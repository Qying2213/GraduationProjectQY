# 智能人才运营平台 - 启动文档

## 一、项目简介

智能人才运营平台是一个基于微服务架构的人才招聘管理系统，采用 Go 语言后端 + Vue3 前端的现代化技术栈，实现了人才管理、职位管理、智能推荐、面试管理、消息通知等核心功能。

---

## 二、环境要求

### 2.1 必需环境

| 软件 | 版本要求 | 说明 |
|------|----------|------|
| Node.js | 18.0+ | 前端运行环境 |
| Go | 1.21+ | 后端运行环境 |
| PostgreSQL | 14.0+ | 主数据库 |

### 2.2 可选环境

| 软件 | 版本要求 | 说明 |
|------|----------|------|
| Redis | 6.0+ | 缓存服务（推荐服务使用） |
| Docker | 20.0+ | 容器化部署 |
| Docker Compose | 2.0+ | 容器编排 |

---

## 三、快速启动

### 方式一：本地开发启动（推荐新手）

#### 步骤 1：初始化数据库

```bash
# 1. 确保 PostgreSQL 服务已启动

# 2. 创建数据库
psql -U postgres -c "DROP DATABASE IF EXISTS talent_platform;"
psql -U postgres -c "CREATE DATABASE talent_platform;"

# 3. 导入表结构
psql -U postgres -d talent_platform -f backend/database/schema.sql

# 4. 导入测试数据
psql -U postgres -d talent_platform -f backend/database/mock_data.sql
```

验证数据导入：
```bash
psql -U postgres -d talent_platform -c "SELECT COUNT(*) FROM users;"
# 应该返回 9 条记录
```

#### 步骤 2：启动后端服务

**方法 A：使用启动脚本（推荐）**

```bash
# 在项目根目录执行
chmod +x start-backend.sh
./start-backend.sh
```

**方法 B：手动启动各服务**

需要打开 8 个终端窗口，分别执行：

```bash
# 终端 1 - API 网关 (端口 8080)
cd backend/gateway && go mod tidy && go run main.go

# 终端 2 - 用户服务 (端口 8081)
cd backend/user-service && go mod tidy && go run main.go

# 终端 3 - 人才服务 (端口 8082)
cd backend/talent-service && go mod tidy && go run main.go

# 终端 4 - 职位服务 (端口 8083)
cd backend/job-service && go mod tidy && go run main.go

# 终端 5 - 简历服务 (端口 8084)
cd backend/resume-service && go mod tidy && go run main.go

# 终端 6 - 推荐服务 (端口 8085)
cd backend/recommendation-service && go mod tidy && go run main.go

# 终端 7 - 消息服务 (端口 8086)
cd backend/message-service && go mod tidy && go run main.go

# 终端 8 - 面试服务 (端口 8087)
cd backend/interview-service && go mod tidy && go run main.go
```

#### 步骤 3：启动前端

```bash
# 进入前端目录
cd frontend

# 安装依赖（首次运行需要）
npm install

# 启动开发服务器
npm run dev
```

#### 步骤 4：访问系统

打开浏览器访问：**http://localhost:3000**

---

### 方式二：Docker 一键部署

```bash
# 1. 构建并启动所有服务
docker-compose up -d

# 2. 查看服务状态
docker-compose ps

# 3. 查看日志
docker-compose logs -f

# 4. 停止服务
docker-compose down
```

---

## 四、测试账号

| 用户名 | 密码 | 角色 | 权限说明 |
|--------|------|------|----------|
| admin | password123 | 超级管理员 | 拥有所有权限 |
| hr_zhang | password123 | HR主管 | 人才、职位、面试管理 |
| hr_li | password123 | 招聘专员 | 人才、简历管理 |
| tech_chen | password123 | 面试官 | 面试、反馈管理 |
| tech_liu | password123 | 面试官 | 面试、反馈管理 |
| viewer_test | password123 | 只读用户 | 仅查看权限 |

---

## 五、服务端口说明

| 服务名称 | 端口 | 说明 |
|----------|------|------|
| 前端应用 | 3000 | Vue3 前端界面 |
| API 网关 | 8080 | 统一 API 入口 |
| 用户服务 | 8081 | 用户认证与管理 |
| 人才服务 | 8082 | 人才库管理 |
| 职位服务 | 8083 | 职位管理 |
| 简历服务 | 8084 | 简历解析与管理 |
| 推荐服务 | 8085 | AI 智能推荐 |
| 消息服务 | 8086 | 消息通知 |
| 面试服务 | 8087 | 面试管理 |
| PostgreSQL | 5432 | 数据库 |
| Redis | 6379 | 缓存（可选） |

---

## 六、数据库配置

默认数据库连接配置：

```
主机: localhost
端口: 5432
用户名: postgres
密码: postgres
数据库名: talent_platform
```

如需修改，请编辑各服务的环境变量或 main.go 文件中的 DSN 配置。

---

## 七、常见问题排查

### Q1: 数据库连接失败

**症状**: 后端服务启动时报 "Failed to connect database" 错误

**解决方案**:
1. 确认 PostgreSQL 服务已启动
2. 检查数据库用户名和密码是否正确
3. 确认 talent_platform 数据库已创建

```bash
# 检查 PostgreSQL 状态
pg_isready

# 检查数据库是否存在
psql -U postgres -c "\l" | grep talent_platform
```

### Q2: 端口被占用

**症状**: 服务启动时报 "address already in use" 错误

**解决方案**:
```bash
# 查看端口占用
lsof -i :8080

# 终止占用进程
kill -9 <PID>

# 或批量终止所有 Go 服务
pkill -f "go run main.go"
```

### Q3: 前端启动报错

**症状**: npm run dev 失败

**解决方案**:
```bash
# 删除依赖重新安装
rm -rf node_modules package-lock.json
npm install

# 清除缓存
npm cache clean --force
```

### Q4: 前端无法连接后端

**症状**: 页面显示 "网络错误" 或 API 请求失败

**解决方案**:
1. 确认 API 网关（8080端口）正在运行
2. 检查 vite.config.ts 中的代理配置
3. 查看浏览器控制台的具体错误信息

### Q5: 登录失败

**症状**: 输入正确账号密码后无法登录

**解决方案**:
1. 确认用户服务（8081端口）正在运行
2. 确认数据库中有测试用户数据
3. 重新导入 mock_data.sql

```bash
psql -U postgres -d talent_platform -f backend/database/mock_data.sql
```

---

## 八、开发命令速查

使用 Makefile 简化操作：

```bash
make help           # 查看所有命令
make dev            # 启动开发环境（前后端）
make dev-backend    # 仅启动后端
make dev-frontend   # 仅启动前端
make test           # 运行所有测试
make docker-up      # Docker 启动
make docker-down    # Docker 停止
make db-init        # 初始化数据库
make db-reset       # 重置数据库数据
make clean          # 清理构建产物
```

---

## 九、项目结构

```
talent-platform/
├── backend/                    # 后端微服务
│   ├── gateway/               # API 网关
│   ├── user-service/          # 用户服务
│   ├── talent-service/        # 人才服务
│   ├── job-service/           # 职位服务
│   ├── resume-service/        # 简历服务
│   ├── recommendation-service/ # 推荐服务
│   ├── message-service/       # 消息服务
│   ├── interview-service/     # 面试服务
│   ├── common/                # 公共模块
│   ├── database/              # 数据库脚本
│   └── docs/                  # API 文档
├── frontend/                   # 前端应用
│   ├── src/
│   │   ├── api/              # API 接口
│   │   ├── components/       # 组件
│   │   ├── views/            # 页面
│   │   ├── router/           # 路由
│   │   ├── store/            # 状态管理
│   │   └── utils/            # 工具函数
│   └── public/               # 静态资源
├── docxCapital/               # 文档目录
├── docker-compose.yml         # Docker 编排
├── Makefile                   # 开发命令
├── start-backend.sh           # 后端启动脚本
└── README.md                  # 项目说明
```

---

## 十、技术支持

如遇到其他问题，请：

1. 查看项目 README.md 文档
2. 查看 backend/docs/swagger.yaml API 文档
3. 检查各服务的日志输出

---

**文档版本**: v1.0  
**更新日期**: 2024年12月  
**作者**: qinyang
